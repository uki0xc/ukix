// Author: https://t.me/uki0x
// @Updatetime 2025/07/13 UTC/GMT +8

[General]
skip-proxy = 192.168.0.0/24, 10.0.0.0/8, 172.16.0.0/12, 127.0.0.1, localhost, *.local
exclude-simple-hostnames = true
internet-test-url = http://223.5.5.5
proxy-test-url = http://www.apple.com/library/test/success.html
# http://www.gstatic.com/generate_204
test-timeout = 2
dns-server = 223.5.5.5, 119.29.29.29
wifi-assist = true
ipv6 = false
ipv6-vif = auto
allow-wifi-access = false
http-api-tls = false
http-api-web-dashboard = true
udp-policy-not-supported-behaviour = REJECT
show-error-page-for-reject = true
wifi-access-http-port = 6789
wifi-access-socks5-port = 6879
auto-suspend = true
icmp-forwarding = true
loglevel = notify
read-etc-hosts = true
allow-hotspot-access = false
use-local-host-item-for-proxy = true
external-controller-access = Yuki@0.0.0.0:6170
http-api = Yuki@127.0.0.1:11234



[Proxy]

[Proxy Group]
Spotify = select, é¦™æ¸¯, å°æ¹¾, æ—¥æœ¬, æ–°åŠ å¡, ç¾å›½, no-alert=0, hidden=0, include-all-proxies=0 
Intelligence = select, é¦™æ¸¯, å°æ¹¾, æ—¥æœ¬, æ–°åŠ å¡, ç¾å›½, no-alert=0, hidden=0, include-all-proxies=0 
Apple = select, é¦™æ¸¯, å°æ¹¾, æ—¥æœ¬, æ–°åŠ å¡, ç¾å›½, no-alert=0, hidden=0, include-all-proxies=0 
Proxy = select, é¦™æ¸¯, å°æ¹¾, æ—¥æœ¬, æ–°åŠ å¡, ç¾å›½, no-alert=0, hidden=0, include-all-proxies=0
ç¾å›½ = smart, no-alert=0, hidden=0, include-all-proxies=0, update-interval=0, policy-regex-filter=(ğŸ‡ºğŸ‡¸)|(States)|(US)|(ç¾å›½)|(ç¾åœ‹),include-other-group=å…¨éƒ¨èŠ‚ç‚¹
é¦™æ¸¯ = smart, no-alert=0, hidden=0, include-all-proxies=0, update-interval=0, policy-regex-filter=(ğŸ‡­ğŸ‡°)|(æ¸¯)|(é¦™æ¸¯)|(HK)|(Hong), include-other-group=å…¨éƒ¨èŠ‚ç‚¹
å°æ¹¾ = smart, no-alert=0, hidden=0, include-all-proxies=0, update-interval=0, policy-regex-filter=(ğŸ‡¹ğŸ‡¼)|(å°)|(Tai)|(TW)|(å°æ¹¾)|(å°ç£), include-other-group=å…¨éƒ¨èŠ‚ç‚¹
æ—¥æœ¬ = smart, no-alert=0, hidden=0, include-all-proxies=0, update-interval=0, policy-regex-filter=(ğŸ‡¯ğŸ‡µ)|(Japan)|(JP)|(æ—¥æœ¬), include-other-group=å…¨éƒ¨èŠ‚ç‚¹
æ–°åŠ å¡ = smart, no-alert=0, hidden=0, include-all-proxies=0, update-interval=0, policy-regex-filter=(ğŸ‡¸ğŸ‡¬)|(å¡)|(Singapore)|(SG)|(ç‹®åŸ), include-other-group=å…¨éƒ¨èŠ‚ç‚¹
æ¬§æ´² = smart, no-alert=0, hidden=0, include-all-proxies=0, update-interval=0, policy-regex-filter=(å¾·)|(æ³•)|(è‹±)|(è·), include-other-group=å…¨éƒ¨èŠ‚ç‚¹
å…¨éƒ¨èŠ‚ç‚¹ = select, update-interval=0, no-alert=0, hidden=0, include-all-proxies=0, policy-path=æœºåœºé“¾æ¥


[Rule]
# å»å¹¿å‘Š+STUN+TGå¾ªç¯è¯·æ±‚
PROTOCOL,STUN,REJECT
RULE-SET,http://river/FuckAds,REJECT,pre-matching
IP-CIDR,95.161.76.100/31,REJECT-NO-DROP,pre-matching,no-resolve
# å¸¸ç”¨
RULE-SET,http://river/X,Proxy
RULE-SET,http://river/Intelligence,Intelligence
RULE-SET,http://river/Github,Proxy
RULE-SET,http://river/Spotify,Spotify
RULE-SET,http://river/Google,Proxy
RULE-SET,http://river/Apple,Apple
# Telegram
IP-ASN,59930,ç¾å›½,no-resolve
OR,((IP-ASN,44907,no-resolve), (IP-ASN,62014,no-resolve)),æ–°åŠ å¡
OR,((IP-ASN,62041,no-resolve), (IP-ASN,211157,no-resolve), (IP-CIDR,5.28.192.0/18,no-resolve), (IP-CIDR,109.239.140.0/24,no-resolve)),æ¬§æ´²
# å…œåº•è§„åˆ™
RULE-SET,http://river/Proxy,Proxy,extended-matching
RULE-SET,http://river/CN,DIRECT,extended-matching
RULE-SET,LAN,DIRECT
GEOIP,CN,DIRECT
FINAL,Proxy,dns-failed

[URL Rewrite]
^http:\/\/river\/(.*?)(_.*)?$ https://raw.githubusercontent.com/uki0xc/ukix/main/Rule/$1.list 302
^https?:\/\/(www\.)?google\.com https://www.google.com 302
^https?:\/\/(www\.)?g\.cn https://www.google.com 302
^https?:\/\/(www\.)?google\.cn https://www.google.com 302
^http:\/\/bm7\/(.*?)(_.*)?$ https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/$1/$1$2.list 302
^http:\/\/uki0xc\/(.*)$ "https://sub.store/download/$1?target=Surge" 302

[Header Rewrite]
http-request ^https://.*\.githubusercontent\.com\/ header-replace Accept-Language en-us
http-request ^https://.*\.github\.com\/ header-replace Accept-Language en-us

[MITM]
hostname = *.githubusercontent.com, *.github.com
